
<!DOCTYPE doctype html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="ie=edge" http-equiv="x-ua-compatible"/>
<meta content="Guide for openstack-ansible Deployers" name="description"/>
<link href="https://ostackdoc.github.io/overview/" rel="canonical"/>
<meta content="Chinthaka Deshapriya" name="author"/>
<meta content="Copy to clipboard" name="lang:clipboard.copy"/>
<meta content="Copied to clipboard" name="lang:clipboard.copied"/>
<meta content="en" name="lang:search.language"/>
<meta content="True" name="lang:search.pipeline.stopwords"/>
<meta content="True" name="lang:search.pipeline.trimmer"/>
<meta content="No matching documents" name="lang:search.result.none"/>
<meta content="1 matching document" name="lang:search.result.one"/>
<meta content="# matching documents" name="lang:search.result.other"/>
<meta content="[\s\-]+" name="lang:search.tokenizer"/>
<link href="../assets/images/favicon.png" rel="shortcut icon"/>
<meta content="mkdocs-1.0.4, mkdocs-material-4.0.2" name="generator"/>
<title>Overview - Openstack Deployment Guide</title>
<link href="../assets/stylesheets/application.982221ab.css" rel="stylesheet"/>
<link href="../assets/stylesheets/application-palette.224b79ff.css" rel="stylesheet"/>
<meta content="#3f51b5" name="theme-color"/>
<script src="../assets/javascripts/modernizr.1f0bcf2b.js"></script>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono" rel="stylesheet"/>
<style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
<link href="../assets/fonts/material-icons.css" rel="stylesheet"/>
<link href="../manifest.webmanifest" rel="manifest"/>
<link href="../extra.css" rel="stylesheet"/>
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-136248088-1", "ostackdoc.github.io")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" dir="ltr">
<svg class="md-svg">
<defs>
<svg height="448" id="__github" viewbox="0 0 416 448" width="416" xmlns="http://www.w3.org/2000/svg">
<path d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" fill="currentColor"></path>
</svg>
</defs>
</svg>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<a class="md-skip" href="#installation_workflow" tabindex="1">
        Skip to content
      </a>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a class="md-header-nav__button md-logo" href="https://ostackdoc.github.io" title="Openstack Deployment Guide">
<i class="md-icon"></i>
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
              Openstack Deployment Guide
            </span>
<span class="md-header-nav__topic">
              Overview
            </span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a class="md-source" data-md-source="github" href="https://github.com/ostackdoc/ostackdoc-docs/" title="Go to repository">
<div class="md-source__icon">
<svg height="24" viewbox="0 0 24 24" width="24">
<use height="24" width="24" xlink:href="#__github"></use>
</svg>
</div>
<div class="md-source__repository">
    ostackdoc/ostackdoc-docs
  </div>
</a>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title md-nav__title--site" for="__drawer">
<a class="md-nav__button md-logo" href="https://ostackdoc.github.io" title="Openstack Deployment Guide">
<i class="md-icon"></i>
</a>
    Openstack Deployment Guide
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-source="github" href="https://github.com/ostackdoc/ostackdoc-docs/" title="Go to repository">
<div class="md-source__icon">
<svg height="24" viewbox="0 0 24 24" width="24">
<use height="24" width="24" xlink:href="#__github"></use>
</svg>
</div>
<div class="md-source__repository">
    ostackdoc/ostackdoc-docs
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href=".." title="Introduction">
      Introduction
    </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-toggle md-nav__toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        Overview
      </label>
<a class="md-nav__link md-nav__link--active" href="./" title="Overview">
      Overview
    </a>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#installation_workflow" title="Installation Workflow">
    Installation Workflow
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#installation_requirements_and_recommendations" title="Installation Requirements and Recommendations">
    Installation Requirements and Recommendations
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#software_requirements" title="Software Requirements">
    Software Requirements
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cpu_recommendation" title="CPU Recommendation">
    CPU Recommendation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#storage_and_disk_recommendations" title="Storage and Disk Recommendations">
    Storage and Disk Recommendations
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#deployment_hosts" title="Deployment hosts">
    Deployment hosts
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#compute_hosts" title="Compute hosts">
    Compute hosts
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#storage_hosts" title="Storage hosts">
    Storage hosts
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#logging_hosts" title="Logging hosts">
    Logging hosts
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#network_recommendations" title="Network Recommendations">
    Network Recommendations
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../prepare-deployment-host/" title="Prepare Deployment Host">
      Prepare Deployment Host
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../test-env-example/" title="Test Environment Example">
      Test Environment Example
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" id="nav-5" type="checkbox"/>
<label class="md-nav__link" for="nav-5">
      Preparing OpenStack Nodes
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-5">
        Preparing OpenStack Nodes
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../install-node-os/" title="Installing Node OS">
      Installing Node OS
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../configure-node-network/" title="Configuring Node Network">
      Configuring Node Network
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#installation_workflow" title="Installation Workflow">
    Installation Workflow
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#installation_requirements_and_recommendations" title="Installation Requirements and Recommendations">
    Installation Requirements and Recommendations
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#software_requirements" title="Software Requirements">
    Software Requirements
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cpu_recommendation" title="CPU Recommendation">
    CPU Recommendation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#storage_and_disk_recommendations" title="Storage and Disk Recommendations">
    Storage and Disk Recommendations
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#deployment_hosts" title="Deployment hosts">
    Deployment hosts
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#compute_hosts" title="Compute hosts">
    Compute hosts
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#storage_hosts" title="Storage hosts">
    Storage hosts
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#logging_hosts" title="Logging hosts">
    Logging hosts
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#network_recommendations" title="Network Recommendations">
    Network Recommendations
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset"><a class="md-icon md-content__icon" download href="overview.pdf" title="PDF Export"></a>
<a class="md-icon md-content__icon" href="https://github.com/ostackdoc/ostackdoc-docs/edit/master/docs/overview.md" title="Edit this page"></a>
<h1>Overview</h1>
<p>This guide refers to the following types of hosts:</p>
<ul>
<li><strong>Deployment</strong> host, which runs the Ansible playbooks</li>
<li><strong>Target hosts</strong>, where Ansible installs OpenStack services and infrastructure components</li>
</ul>
<h3 id="installation_workflow">Installation Workflow<a class="headerlink" href="#installation_workflow" title="Permanent link">¶</a></h3>
<p>The following diagram shows the general workflow of an OpenStack-Ansible installation. This may slightly change as per the specific deployment scenario.</p>
<p><img alt="" src="../img/deployment-work-flow.jpg"/></p>
<h3 id="installation_requirements_and_recommendations">Installation Requirements and Recommendations<a class="headerlink" href="#installation_requirements_and_recommendations" title="Permanent link">¶</a></h3>
<h4 id="software_requirements">Software Requirements<a class="headerlink" href="#software_requirements" title="Permanent link">¶</a></h4>
<p>Ensure that all hosts within an OpenStack-Ansible (OSA) environment meet the following minimum requirements:</p>
<ul>
<li>
<p>Ubuntu</p>
<ul>
<li>Ubuntu 16.04 LTS (Xenial Xerus) or Ubuntu 18.04 LTS (Bionic Beaver)</li>
<li>Linux kernel version 3.13.0-34-generic or later is required.</li>
</ul>
</li>
<li>
<p>CentOS</p>
<ul>
<li>Centos 7, fully updated.</li>
<li>Linux kernel version 3.10.0 or later.</li>
</ul>
</li>
<li>
<p>openSUSE</p>
<ul>
<li>Leap 42.X, fully updated.</li>
<li>Linux kernel version 4.4.X or later.</li>
</ul>
</li>
<li>
<p>Secure Shell (SSH) client and server that support public key authentication</p>
</li>
<li>
<p>Network Time Protocol (NTP) client for time synchronization (such as ntpd or chronyd)</p>
</li>
<li>
<p>Python 2.7.<em>x</em></p>
</li>
<li>
<p>en_US.UTF-8 as the locale</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At the moment of writing this guid, the openstacl-ansible playbook deployment on CentOS 7.x and openSUSE Leap 42.x is <strong>experimental</strong>. We highly recommend using Ubuntu in your production deployment.</p>
</div>
<h4 id="cpu_recommendation">CPU Recommendation<a class="headerlink" href="#cpu_recommendation" title="Permanent link">¶</a></h4>
<ul>
<li>
<p>Compute hosts should have multicore processors with <a href="https://en.wikipedia.org/wiki/Hardware-assisted_virtualization">hardware-assisted virtualization extensions</a>. These extensions provide a significant performance boost and improve security in virtualized environments.</p>
</li>
<li>
<p>Infrastructure (control plane) hosts should have multicore processors for best performance. Some services, such as MySQL, benefit from additional CPU cores and other technologies, such as <a href="https://en.wikipedia.org/wiki/Hyper-threading">Hyper-threading</a>.</p>
</li>
</ul>
<h4 id="storage_and_disk_recommendations">Storage and Disk Recommendations<a class="headerlink" href="#storage_and_disk_recommendations" title="Permanent link">¶</a></h4>
<p>Different hosts have different disk space requirements based on the services running on each host:</p>
<h5 id="deployment_hosts">Deployment hosts<a class="headerlink" href="#deployment_hosts" title="Permanent link">¶</a></h5>
<p>A minimum of <strong>10 GB</strong> of disk space is sufficient for holding the OpenStack-Ansible repository content and additional required software.</p>
<h5 id="compute_hosts">Compute hosts<a class="headerlink" href="#compute_hosts" title="Permanent link">¶</a></h5>
<p>Disk space requirements depend on the total number of instances running on each host and the amount of disk space allocated to each instance.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Consider disks that provide higher I/O throughput with lower latency, such as SSD drives in a RAID array if you use the local storage of the compute host for instance storage.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If your deployment include a shared storage like Ceph you will  definitely be  using it in the compute host without using the local storage  of the compute host for instance storage. In this case the local disk of the compute host required for host OS installation and relevant OpenStack agent installation requirements.</p>
</div>
<h5 id="storage_hosts">Storage hosts<a class="headerlink" href="#storage_hosts" title="Permanent link">¶</a></h5>
<p>Hosts running the Block Storage (cinder) service often consume the most disk space in OpenStack environments.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>As with Compute hosts, choose disks that provide the highest I/O throughput with the lowest latency.</p>
</div>
<h5 id="logging_hosts">Logging hosts<a class="headerlink" href="#logging_hosts" title="Permanent link">¶</a></h5>
<p>An OpenStack-Ansible deployment generates a significant amount of log information. Logs come from a variety of sources, including services running in containers, the containers themselves, and the physical hosts. Logging hosts need sufficient disk space to hold live and rotated (historical) log files. In addition, the storage performance must be able to keep pace with the log traffic coming from various hosts and containers within the OpenStack environment. Reserve a minimum of <strong>50 GB</strong>  of disk space for storing logs on the logging hosts.</p>
<h4 id="network_recommendations">Network Recommendations<a class="headerlink" href="#network_recommendations" title="Permanent link">¶</a></h4>
<p>For the best performance, reliability, and scalability in a production environment, consider a network configuration that contains the following features:</p>
<ul>
<li>
<p>Bonded network interfaces, which increase performance, reliability, or both (depending on the bonding architecture)</p>
</li>
<li>
<p>VLAN offloading, which increases performance by adding and removing VLAN tags in hardware, rather than in the server’s main CPU</p>
</li>
<li>
<p>10 Gigabit Ethernet, which supports higher network speeds and can also improve storage performance when using the Block Storage service</p>
</li>
<li>
<p>Jumbo frames, which increase network performance by allowing more data to be sent in each packet</p>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>You can deploy an OpenStack environment with only one physical network interface. This works for small test environments, but it can cause problems when your environment grows.</p>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a class="md-flex md-footer-nav__link md-footer-nav__link--prev" href=".." rel="prev" title="Introduction">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                Introduction
              </span>
</div>
</a>
<a class="md-flex md-footer-nav__link md-footer-nav__link--next" href="../prepare-deployment-host/" rel="next" title="Prepare Deployment Host">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                Prepare Deployment Host
              </span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
            Copyright © 2018 - 2019 Chinthaka Deshapriya
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
</div>
<div class="md-footer-social">
<link href="../assets/fonts/font-awesome.css" rel="stylesheet"/>
<a class="md-footer-social__link fa fa-github" href="https://github.com/ostackdoc"></a>
<a class="md-footer-social__link fa fa-twitter" href="https://twitter.com/ostackdoc"></a>
<a class="md-footer-social__link fa fa-linkedin" href="https://linkedin.com/in/ostackdoc"></a>
</div>
</div>
</div>
</footer>
</div>
<script src="../assets/javascripts/application.d9aa80ab.js"></script>
<script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
</body>
</html>